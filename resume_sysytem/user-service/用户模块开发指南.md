# 用户模块开发指南

## 一、模块介绍

用户模块是简历系统的基础模块，负责用户账户的管理，包括用户注册、登录、信息查询、修改等功能。

## 二、技术选型

- Spring Boot 2.7.14
- Spring Cloud 2021.0.8
- Nacos：服务注册与配置中心
- MyBatis Plus 3.5.2：ORM框架
- MySQL 8.0.28：数据库
- Druid 1.2.8：数据库连接池
- Swagger/Knife4j：API文档

## 三、目录结构

```
user-service/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/
│   │   │       └── ptu/
│   │   │           ├── UserServiceApplication.java  # 启动类
│   │   │           └── user/
│   │   │               ├── controller/               # 控制器层
│   │   │               │   └── UserController.java
│   │   │               ├── entity/                   # 实体类层
│   │   │               │   └── UserEntity.java
│   │   │               ├── mapper/                   # 数据访问层
│   │   │               │   └── UserMapper.java
│   │   │               └── service/                  # 服务层
│   │   │                   ├── UserService.java      # 服务接口
│   │   │                   └── impl/
│   │   │                       └── UserServiceImpl.java  # 服务实现类
│   │   └── resources/
│   │       ├── application.yml                      # 应用配置
│   │       └── bootstrap.yml                        # 引导配置
│   └── test/                                        # 测试目录
└── pom.xml                                          # 项目依赖
```

## 四、功能说明

### 1. 用户管理
- 用户注册
- 用户登录
- 用户信息查询
- 用户信息修改
- 用户状态管理
- 密码管理

### 2. API接口

| 接口名称 | 请求方式 | 接口路径 | 接口说明 |
| ---- | ---- | ---- | ---- |
| 根据ID获取用户 | GET | /users/{id} | 根据用户ID查询用户信息 |
| 根据用户名获取用户 | GET | /users/by-username/{username} | 根据用户名查询用户信息 |
| 分页查询用户列表 | GET | /users/page | 分页查询用户列表，支持条件筛选 |
| 修改用户状态 | PUT | /users/{id}/status/{status} | 修改用户状态 |
| 重置密码 | PUT | /users/{id}/reset-password | 重置用户密码 |

## 五、数据库设计

### 用户表(user)

| 字段名 | 数据类型 | 可空 | 默认值 | 说明 |
| ---- | ---- | ---- | ---- | ---- |
| id | bigint | 否 | 自增 | 主键ID |
| username | varchar(50) | 否 | 无 | 用户名 |
| password | varchar(100) | 否 | 无 | 密码 |
| real_name | varchar(50) | 是 | null | 真实姓名 |
| phone | varchar(20) | 是 | null | 手机号码 |
| email | varchar(100) | 是 | null | 邮箱 |
| avatar | varchar(255) | 是 | null | 头像URL |
| gender | tinyint | 是 | 0 | 性别：0-未知，1-男，2-女 |
| status | tinyint | 否 | 0 | 账号状态：0-正常，1-禁用 |
| last_login_time | datetime | 是 | null | 最后登录时间 |
| create_time | datetime | 否 | CURRENT_TIMESTAMP | 创建时间 |
| update_time | datetime | 否 | CURRENT_TIMESTAMP | 更新时间 |
| deleted | tinyint | 否 | 0 | 删除标志：0-未删除，1-已删除 |

## 六、开发进度

- [x] 项目基础结构搭建
- [x] 用户实体类定义
- [x] 用户服务接口及实现类开发
- [x] 用户控制器开发
- [ ] 用户相关DTO/VO开发
- [ ] 单元测试编写
- [ ] 集成测试编写
- [ ] 文档完善 