# 简历系统开发规范

## 一、项目基本规范

### 1. 项目结构规范

```
resume/
├── common/                                 # 公共模块
│   ├── core/                              # 核心工具类及通用代码
│   ├── service/                           # 数据访问、缓存和服务调用组件
│   ├── security/                          # 安全相关配置及工具
│   └── web/                               # Web应用通用组件和日志处理
├── gateway/                               # 网关服务
├── auth/                                  # 认证服务
├── user/                                  # 用户服务
├── resume/                                # 简历服务
├── template/                              # 模板服务
├── order/                                 # 订单服务
├── ai/                                    # AI辅助服务
├── file/                                  # 文件服务
├── notification/                          # 通知服务
└── docs/                                  # 项目文档

## 二、编码规范

### 1. 代码风格

- 严格遵循阿里巴巴Java开发手册
- 缩进使用4个空格，不使用Tab
- 换行符使用CRLF
- 所有文件使用UTF-8编码

### 2. 命名规范

- **包命名**：采用`com.ptu.resume.{模块}.{层次}`格式
  - 例：`com.ptu.resume.user.controller`

- **类命名**：
  - 控制器：`XxxController`
  - 服务接口：`XxxService`
  - 服务实现：`XxxServiceImpl`
  - 数据访问：`XxxMapper`
  - 实体类：`XxxEntity`
  - 数据传输对象：`XxxDTO`
  - 视图对象：`XxxVO`
  - 查询对象：`XxxQuery`
  - 配置类: `XxxConfig`

- **方法命名**：
  - 获取单个对象：`getXxx`
  - 获取多个对象：`listXxx`
  - 统计数量：`countXxx`
  - 新增：`addXxx`
  - 修改：`updateXxx`
  - 删除：`deleteXxx`
  - 检查：`checkXxx`

- **变量命名**：
  - 常量：全大写，下划线分隔（如`MAX_COUNT`）
  - 变量：驼峰命名（如`userId`）

### 4. 注释规范

- 类注释必须包含：功能描述
- 方法注释必须包含：功能描述、参数说明、返回值说明、异常说明（如有）
- 接口方法必须有完整的Javadoc注释
- 复杂逻辑必须有详细注释说明

### 5. 异常处理规范

- 使用统一的异常处理机制
- 业务异常继承自`BaseException`
- 不允许吞掉异常，必须记录日志
- 禁止直接抛出`RuntimeException`，应使用自定义业务异常

## 三、微服务开发规范

### 1. 服务划分原则

- 按照业务领域划分服务
- 单一职责原则：一个服务只负责一个业务领域
- 服务粒度适中，避免过大或过小

### 2. 接口设计规范

- 严格遵循RESTful风格
- URL路径采用名词复数形式
- 使用正确的HTTP方法：GET(查询)、POST(创建)、PUT(更新)、DELETE(删除)
- 使用统一的响应格式
- 开发API时参考`DeveloperGuide/API-DOCS*.md`文件

### 3. 数据传输规范

- DTO与实体类严格分离
- 不同层次间的数据对象不能跨层使用
- 使用统一的响应格式：`R<T>`
- 接口参数必须进行校验，使用`@Valid`和校验注解

### 4. 服务间通信规范

- 使用Feign进行服务间调用
- Feign接口必须定义在API模块中
- 服务降级必须实现FallbackFactory
- 消息队列使用场景：异步处理、削峰填谷、解耦

## 四、数据库规范

### 1. 表设计规范

- 表名采用小写字母，下划线分隔
- 必须有主键，推荐使用自增长ID
- 每个表必须包含：`create_time`、`update_time`字段
- 字段名采用小写字母，下划线分隔
- 字段必须有注释说明

### 2. SQL编写规范

- 使用预编译方式防止SQL注入
- 表名、字段名使用反引号`\``包裹
- 复杂查询必须有注释说明
- 禁止使用`SELECT *`，必须明确指定字段
- 使用命名参数，而非位置参数

### 3. ORM规范

- 统一使用MyBatis Plus框架
- 实体类使用`@TableName`、`@TableId`等注解
- 尽量使用Lambda方式编写条件
- 复杂查询使用XML配置

## 六、安全规范

### 1. 认证授权

- 使用JWT进行认证
- 敏感接口必须进行权限校验
- Token过期时间不超过24小时
- 敏感数据（如密码）必须加密存储

## 七、日志规范

### 1. 日志配置

- 开发环境：控制台输出，级别DEBUG
- 关键操作必须记录日志

### 2. 日志内容

- 必须记录用户ID、操作类型、时间戳
- 异常必须记录完整的堆栈信息
- 重要业务操作必须记录详细日志
